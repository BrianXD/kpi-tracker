# KPI Tracker â€” ç³»çµ±è¦æ ¼æ›¸

> **ç‰ˆæœ¬**ï¼š1.2.0
> **æœ€å¾Œæ›´æ–°**ï¼š2026-02-21
> **ç¶­è­·æ–¹å¼**ï¼šæœ¬æ–‡ä»¶ç”± AI è‡ªå‹•ç¶­è­·ï¼Œè¦æ ¼è®Šæ›´æ™‚åŒæ­¥æ›´æ–°

---

## 1. ç³»çµ±æ¦‚è¿°

| é …ç›®       | å…§å®¹                                              |
| ---------- | ------------------------------------------------- |
| ç³»çµ±åç¨±   | KPI Tracker â€” å·¥ä½œè¨˜éŒ„ç³»çµ±                        |
| ç›®çš„       | ä¸Šç­æ™‚è¨˜éŒ„æ‰€æœ‰è™•ç†çš„å·¥ä½œäº‹é …ï¼Œä¾›ä¸»ç®¡æŸ¥é–± KPI      |
| ä½¿ç”¨è€…å°è±¡ | å…¬å¸å…§éƒ¨å“¡å·¥ï¼ˆè™•ç†äººå“¡ï¼‰ã€ä¸»ç®¡ï¼ˆæŸ¥é–±è€…ï¼‰          |
| å‰ç«¯æ¡†æ¶   | React 19 + Vite 7 + TypeScript                    |
| å¾Œç«¯       | Google Apps Scriptï¼ˆGASï¼‰Web App                  |
| è³‡æ–™åº«     | Google Sheets                                     |
| éƒ¨ç½²æ–¹å¼   | å‰ç«¯ Vite Dev Server / éœæ…‹éƒ¨ç½²ï¼›å¾Œç«¯ GAS Web App |

---

## 2. ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯ React App (Vite)                        â”‚
â”‚                                              â”‚
â”‚  LoginPage  â†’  WorkItemFormPage              â”‚
â”‚  (é¸ä½¿ç”¨è€…)     (å¡«å¯«å·¥ä½œè¨˜éŒ„)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP (dev: /gas-proxy â†’ Node.js server-side)
               â”‚ HTTP (prod: ç›´é€£ GAS URL)
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Apps Script (GAS) Web App            â”‚
â”‚                                              â”‚
â”‚  doGet(action)  â†’  è®€å–å„å·¥ä½œè¡¨è³‡æ–™            â”‚
â”‚  doPost(data)   â†’  å¯«å…¥å•é¡Œæ¸…å–®è¨˜éŒ„            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Sheets                               â”‚
â”‚  ä½¿ç”¨è€… / ç³»çµ±åˆ¥ / å­æ¨¡çµ„ / æå•æ–¹å¼           â”‚
â”‚  å“¡å·¥è³‡æ–™ / å•é¡Œæ¸…å–®è¨˜éŒ„                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CORS è§£æ±ºæ–¹æ¡ˆï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰

GAS Web App å›æ‡‰ 302 redirectï¼Œç€è¦½å™¨ç›´æ¥ fetch æœƒé‡åˆ° CORS å•é¡Œã€‚  
è§£æ³•ï¼šVite dev server åŠ å…¥è‡ªè¨‚ middlewareï¼ˆ`/gas-proxy`ï¼‰ï¼Œç”± Node.js åœ¨ server ç«¯ fetch GAS å†å›å‚³çµ¦ç€è¦½å™¨ã€‚

---

## 3. ç’°å¢ƒè®Šæ•¸

| è®Šæ•¸å         | èªªæ˜                 | ç¯„ä¾‹                                          |
| -------------- | -------------------- | --------------------------------------------- |
| `VITE_GAS_URL` | GAS Web App éƒ¨ç½² URL | `https://script.google.com/macros/s/.../exec` |

è¨­å®šæª”ï¼š`.env`ï¼ˆä¸é€²ç‰ˆæœ¬æ§åˆ¶ï¼‰ï¼›ç¯„æœ¬ï¼š`.env.example`

---

## 4. é é¢è¦æ ¼

### 4.1 LoginPageï¼ˆé¦–é ï¼‰

**è·¯ç”±**ï¼š`/`

**åŠŸèƒ½**ï¼š
- å¾ GAS è®€å–ã€Œä½¿ç”¨è€…ã€å·¥ä½œè¡¨å–å¾—åå–®
- ä½¿ç”¨è€…ä¸‹æ‹‰é¸å–®ï¼ˆé¡¯ç¤ºæ ¼å¼ï¼š`{å§“å}ï¼ˆ{å·¥è™Ÿ}ï¼‰`ï¼‰
- ã€Œè¨˜ä½æˆ‘ã€checkbox â†’ å„²å­˜é¸å–çš„ userId è‡³ `localStorage`
- é€å‡ºå¾Œå°å‘ `/form`ï¼Œé€é `location.state.user` å‚³éä½¿ç”¨è€…è³‡æ–™

**ç‹€æ…‹**ï¼š
- é é¢è¼‰å…¥æ™‚è‹¥ localStorage æœ‰è¨˜ä½çš„ userIdï¼Œè‡ªå‹•å¸¶å…¥é¸å–®ï¼ˆä¸è‡ªå‹•è·³è½‰ï¼‰
- Loading spinner æ–¼è³‡æ–™è¼‰å…¥ä¸­é¡¯ç¤º
- API éŒ¯èª¤é¡¯ç¤º alert-error

---

### 4.2 WorkItemFormPageï¼ˆå·¥ä½œè¨˜éŒ„è¡¨å–®ï¼‰

**è·¯ç”±**ï¼š`/form`

**åŠŸèƒ½**ï¼šå¡«å¯«ä¸€ç­†å·¥ä½œè¨˜éŒ„ä¸¦é€å‡ºè‡³ GAS

**è‹¥æœªç™»å…¥ï¼ˆç„¡ `location.state.user`ï¼‰**ï¼šé¡¯ç¤ºã€Œè«‹å…ˆé¸æ“‡ä½¿ç”¨è€…ã€ä¸¦æä¾›è¿”å›é€£çµ

**è¡¨å–®æ¬„ä½è¦æ ¼**ï¼š

| æ¬„ä½                 | é¡å‹                | ä¾†æº                            | å¿…å¡« | å‚™è¨»                                                 |
| -------------------- | ------------------- | ------------------------------- | ---- | ---------------------------------------------------- |
| ç³»çµ±åˆ¥               | ä¸‹æ‹‰é¸å–®            | Google Sheetsã€Œç³»çµ±åˆ¥ã€å·¥ä½œè¡¨   | âœ…    | é¸ã€Œå…¶å®ƒã€æ™‚å­æ¨¡çµ„åˆ‡æ›ç‚ºæ–‡å­—è¼¸å…¥                     |
| å­æ¨¡çµ„               | ä¸‹æ‹‰é¸å–® / æ–‡å­—è¼¸å…¥ | Google Sheetsã€Œå­æ¨¡çµ„ã€å·¥ä½œè¡¨   | âœ…    | ä¾ç³»çµ±åˆ¥éæ¿¾ï¼›ç³»çµ±åˆ¥ç‚ºã€Œå…¶å®ƒã€æ™‚è®Šè¼¸å…¥æ¡†             |
| æå•æ–¹å¼             | Icon æŒ‰éˆ•çµ„         | Google Sheetsã€Œæå•æ–¹å¼ã€å·¥ä½œè¡¨ | âœ…    | æ¯å€‹é¸é …é¡¯ç¤º ICON + åç¨±ï¼›é¸ã€Œå…¶å®ƒã€å¾Œä¸‹æ–¹å‡ºç¾æ–‡å­—æ¡† |
| æå•äººå“¡             | ä¸‹æ‹‰é¸å–®            | Google Sheetsã€Œå“¡å·¥è³‡æ–™ã€å·¥ä½œè¡¨ | âœ…    | é¡¯ç¤ºæ ¼å¼ï¼š`{å§“å}ï¼ˆ{å·¥è™Ÿ}ï¼‰`                         |
| ç™¼å•æ—¥æœŸæ™‚é–“         | datetime-local      | â€”                               | âœ…    | é è¨­ï¼šç•¶ä¸‹æ—¥æœŸæ™‚é–“                                   |
| é›£åº¦                 | ä¸‰æŒ‰éˆ•ï¼ˆé«˜/ä¸­/ä½ï¼‰  | â€”                               | âœ…    | é è¨­ï¼šä¸­                                             |
| å„ªå…ˆæ¬Š               | ä¸‰æŒ‰éˆ•ï¼ˆé«˜/ä¸­/ä½ï¼‰  | â€”                               | âœ…    | é è¨­ï¼šä¸­                                             |
| æ˜¯å¦å®Œæˆ             | Toggle é–‹é—œ         | â€”                               | âœ…    | é è¨­ï¼šå¦ï¼ˆâ³ å°šæœªå®Œæˆï¼‰                               |
| çµæ¡ˆæ—¥æœŸæ™‚é–“         | datetime-local      | â€”                               | âŒ    | åƒ…åœ¨ã€Œæ˜¯å¦å®Œæˆ=æ˜¯ã€æ™‚é¡¯ç¤º                            |
| è™•ç†èŠ±è²»æ™‚é–“ï¼ˆåˆ†é˜ï¼‰ | number              | â€”                               | âŒ    | æœ€å°å€¼ 0ï¼Œæ•´æ•¸                                       |
| å‚™è¨»                 | textarea            | â€”                               | âŒ    | å¤šè¡Œæ–‡å­—                                             |

**è¡¨å–®é©—è­‰**ï¼šä½¿ç”¨ `react-hook-form` + `zod`

**é€å‡ºè¡Œç‚º**ï¼š
- POST è‡³ GASï¼ˆ`mode: no-cors`ï¼Œç„¡æ³•è®€å–å›æ‡‰ï¼‰
- å‰ç«¯å‡è¨­é€å‡ºæˆåŠŸ
- æˆåŠŸå¾Œï¼šé¡¯ç¤ºå…¨è¢å¹•æˆåŠŸ overlayï¼ˆå‹•ç•«å½ˆå‡ºï¼Œ4 ç§’å¾Œæ¶ˆå¤±ï¼‰ã€æ¸…ç©ºè¡¨å–®ï¼ˆä¿ç•™ä½¿ç”¨è€…èº«ä»½ï¼‰

**å°è¦½åˆ—**ï¼š
- ç®¡ç†è€…ï¼šé¡¯ç¤ºã€Œâš™ ç³»çµ±ç®¡ç†ã€æ©˜è‰² Badge é€£çµ
- æ‰€æœ‰äººï¼šé¡¯ç¤ºã€ŒğŸ“‹ æŸ¥è©¢è¨˜éŒ„ã€ç´«è‰² Badge é€£çµ

---

## 5. Google Sheets å·¥ä½œè¡¨è¦æ ¼

> **æ˜¯å¦å•Ÿç”¨æ¬„ä½**ï¼šæ¥å— `æ˜¯`ã€`Y`ã€`y`ã€`true`ã€`1`ï¼ˆå¸ƒæ—æˆ–å­—ä¸²å‡å¯ï¼‰

### 5.1 ä½¿ç”¨è€…

| æ¬„ä½         | å‹æ…‹ | èªªæ˜                           |
| ------------ | ---- | ------------------------------ |
| id           | æ•¸å­— | è‡ªå‹•ç·¨è™Ÿ                       |
| ä½¿ç”¨è€…å·¥è™Ÿ   | æ–‡å­— | å”¯ä¸€è­˜åˆ¥ç¢¼                     |
| ä½¿ç”¨è€…å§“å   | æ–‡å­— | é¡¯ç¤ºåç¨±                       |
| LOGIN ID     | æ–‡å­— | ç™»å…¥å¸³è™Ÿ                       |
| Password     | æ–‡å­— | å¯†ç¢¼ï¼ˆç›®å‰åƒ…å„²å­˜ï¼Œç„¡é©—è­‰æ©Ÿåˆ¶ï¼‰ |
| æ˜¯å¦å•Ÿç”¨     | æ–‡å­— | Y/Nï¼Œæ§åˆ¶æ˜¯å¦å‡ºç¾åœ¨é¸å–®        |
| æ˜¯å¦ç‚ºç®¡ç†è€… | æ–‡å­— | Y/Nï¼ŒY=å¯é€²å…¥ç®¡ç†ä»‹é¢          |

### 5.2 ç³»çµ±åˆ¥

| æ¬„ä½     | å‹æ…‹ | èªªæ˜                   |
| -------- | ---- | ---------------------- |
| id       | æ•¸å­— | è‡ªå‹•ç·¨è™Ÿ               |
| ç³»çµ±åˆ¥   | æ–‡å­— | ç³»çµ±åç¨±ï¼ˆå«ã€Œå…¶å®ƒã€ï¼‰ |
| æ˜¯å¦é–‹å•Ÿ | æ–‡å­— | æ§åˆ¶æ˜¯å¦å‡ºç¾åœ¨é¸å–®     |
| æ’åº     | æ•¸å­— | å‡å†ªæ’åº               |
| å»ºç«‹æ™‚é–“ | Date | æ–°å¢æ™‚ GAS è‡ªå‹•å¡«å…¥    |

### 5.3 å­æ¨¡çµ„

| æ¬„ä½     | å‹æ…‹ | èªªæ˜                 |
| -------- | ---- | -------------------- |
| id       | æ•¸å­— | è‡ªå‹•ç·¨è™Ÿ             |
| çˆ¶ç³»çµ±   | æ–‡å­— | å°æ‡‰ã€Œç³»çµ±åˆ¥ã€æ¬„ä½å€¼ |
| å­æ¨¡çµ„   | æ–‡å­— | å­æ¨¡çµ„åç¨±           |
| æ˜¯å¦é–‹å•Ÿ | æ–‡å­— | æ§åˆ¶æ˜¯å¦å‡ºç¾         |
| æ’åº     | æ•¸å­— | å‡å†ªæ’åº             |
| å»ºç«‹æ™‚é–“ | Date | æ–°å¢æ™‚ GAS è‡ªå‹•å¡«å…¥  |

### 5.4 æå•æ–¹å¼

| æ¬„ä½     | å‹æ…‹ | èªªæ˜                               |
| -------- | ---- | ---------------------------------- |
| id       | æ•¸å­— | è‡ªå‹•ç·¨è™Ÿ                           |
| æå•æ–¹å¼ | æ–‡å­— | ä¾‹ï¼šé›»è©±ã€Emailã€ç¾å ´ã€Teamsã€å…¶å®ƒ |
| æ˜¯å¦é–‹å•Ÿ | æ–‡å­— | æ§åˆ¶æ˜¯å¦å‡ºç¾                       |
| æ’åº     | æ•¸å­— | å‡å†ªæ’åº                           |
| å»ºç«‹æ™‚é–“ | Date | æ–°å¢æ™‚ GAS è‡ªå‹•å¡«å…¥                |

### 5.5 å“¡å·¥è³‡æ–™

| æ¬„ä½       | å‹æ…‹ | èªªæ˜                |
| ---------- | ---- | ------------------- |
| id         | æ•¸å­— | è‡ªå‹•ç·¨è™Ÿ            |
| æå•äººå·¥è™Ÿ | æ–‡å­— | æå•äººå“¡å·¥è™Ÿ        |
| æå•äººå§“å | æ–‡å­— | æå•äººé¡¯ç¤ºåç¨±      |
| æ˜¯å¦é–‹å•Ÿ   | æ–‡å­— | æ§åˆ¶æ˜¯å¦å‡ºç¾åœ¨é¸å–®  |
| å»ºç«‹æ™‚é–“   | Date | æ–°å¢æ™‚ GAS è‡ªå‹•å¡«å…¥ |

### 5.5a ä½¿ç”¨è€…ï¼ˆDataSheet å…±é€šè¦å‰‡ï¼‰

> æ‰€æœ‰ DataSheetï¼ˆä½¿ç”¨è€…ã€ç³»çµ±åˆ¥ã€å­æ¨¡çµ„ã€æå•æ–¹å¼ã€å“¡å·¥è³‡æ–™ï¼‰é€é Admin CRUD æ–°å¢è³‡æ–™æ™‚ï¼ŒGAS è‡ªå‹•å¡«å…¥ **å»ºç«‹æ™‚é–“**ï¼ˆ`new Date()`ï¼‰ã€‚

### 5.6 å•é¡Œæ¸…å–®è¨˜éŒ„

| æ¬„ä½         | å‹æ…‹ | èªªæ˜                         |
| ------------ | ---- | ---------------------------- |
| id           | æ•¸å­— | è‡ªå‹•éå¢                     |
| ç³»çµ±åˆ¥       | æ–‡å­— |                              |
| å­æ¨¡çµ„       | æ–‡å­— |                              |
| è™•ç†äººå“¡å§“å | æ–‡å­— | ç™»å…¥ä½¿ç”¨è€…çš„å§“å             |
| æå•äººå“¡     | æ–‡å­— |                              |
| é›£åº¦         | æ–‡å­— | é«˜/ä¸­/ä½                     |
| å„ªå…ˆæ¬Š       | æ–‡å­— | é«˜/ä¸­/ä½                     |
| æå•æ—¥æœŸ     | æ–‡å­— | ISO 8601 datetime-local æ ¼å¼ |
| æå•æ–¹å¼     | æ–‡å­— |                              |
| æ˜¯å¦å®Œæˆ     | æ–‡å­— | æ˜¯/å¦                        |
| çµæ¡ˆæ—¥æœŸ     | æ–‡å­— | ISO 8601 æˆ–ç©ºå­—ä¸²            |
| è™•ç†åˆ†é˜æ•¸   | æ•¸å­— | ç©ºå‰‡ç•™ç©º                     |
| å‚™è¨»         | æ–‡å­— |                              |
| å»ºç«‹æ—¥æœŸæ™‚é–“ | Date | GAS ä¼ºæœå™¨å¯«å…¥æ™‚é–“           |

---

## 6. GAS API è¦æ ¼

**éƒ¨ç½²é¡å‹**ï¼šWeb App  
**åŸ·è¡Œèº«ä»½**ï¼šæˆ‘çš„å¸³æˆ¶  
**å­˜å–æ¬Šé™**ï¼šæ‰€æœ‰äººï¼ˆå«åŒ¿åè€…ï¼‰

### 6.1 GET ç«¯é»

**URL**ï¼š`{GAS_URL}?action={action}`

| action           | å›å‚³             | èªªæ˜                                                   |
| ---------------- | ---------------- | ------------------------------------------------------ |
| `getUsers`       | `User[]`         | å›å‚³å•Ÿç”¨ä¸­çš„ä½¿ç”¨è€…æ¸…å–®                                 |
| `getFormOptions` | `FormOptions`    | ä¸€æ¬¡å›å‚³æ‰€æœ‰ä¸‹æ‹‰é¸å–®è³‡æ–™                               |
| `getAdminSheet`  | `AdminSheetData` | è®€å–æŒ‡å®š Sheetï¼ˆ`?sheet=users/systems/...`ï¼‰           |
| `getRecords`     | `AdminRow[]`     | è®€å–å•é¡Œæ¸…å–®è¨˜éŒ„ï¼ˆ`?handler=å§“å&isAdmin=true/false`ï¼‰ |

**`User` ç‰©ä»¶**ï¼š
```json
{ "id": "1", "empId": "4483", "name": "BRIAN", "loginId": "BRIAN", "isAdmin": true }
```

**`FormOptions` ç‰©ä»¶**ï¼š
```json
{
  "systems": [{ "id": "1", "name": "ERP", "order": 1 }],
  "subModules": [{ "id": "1", "parentSystem": "ERP", "name": "æ¡è³¼æ¨¡çµ„", "order": 1 }],
  "questionTypes": [{ "id": "1", "name": "é›»è©±", "order": 1 }],
  "employees": [{ "id": "1", "empId": "S001", "name": "é™³ä¸€å¿ƒ" }]
}
```

**`AdminData` ç‰©ä»¶**ï¼š
```json
{
  "users": [{ "id": "1", "empId": "4483", "name": "BRIAN", "loginId": "BRIAN", "isAdmin": true, "isEnabled": true }],
  "systems": [{ "id": "1", "name": "ERP", "order": 1, "isEnabled": true }],
  "subModules": [{ "id": "1", "parentSystem": "ERP", "name": "æ¡è³¼æ¨¡çµ„", "order": 1, "isEnabled": true }],
  "questionTypes": [{ "id": "1", "name": "é›»è©±", "order": 1, "isEnabled": true }],
  "employees": [{ "id": "1", "empId": "S001", "name": "é™³ä¸€å¿ƒ", "isEnabled": true }]
}
```

### 6.2 POST ç«¯é»

**URL**ï¼š`{GAS_URL}`  
**Content-Type**ï¼š`application/json`  
**Mode**ï¼š`no-cors`ï¼ˆå‰ç«¯ç„¡æ³•è®€å–å›æ‡‰ï¼‰

**Request Body**ï¼š
```json
{
  "action": "addWorkItem", // æˆ– "updateUser", "addSystem", "deleteEmployee" ç­‰
  "data": {
    // ä¾ action æ±ºå®šè³‡æ–™çµæ§‹
    "system": "ERP",
    "subModule": "æ¡è³¼æ¨¡çµ„",
    "handler": "BRIAN",
    "questioner": "é™³ä¸€å¿ƒ",
    "difficulty": "HIGH",
    "priority": "MID",
    "questionDate": "2026-02-21T10:30",
    "questionType": "é›»è©±",
    "isDone": false,
    "closedDate": "",
    "minutes": 30,
    "note": "å‚™è¨»èªªæ˜"
  }
}
```

**é›£åº¦/å„ªå…ˆæ¬Šå°ç…§**ï¼š`HIGH` â†’ é«˜ã€`MID` â†’ ä¸­ã€`LOW` â†’ ä½

---

## 7. å‰ç«¯ç¨‹å¼ç¢¼çµæ§‹

```
kpi-tracker/
â”œâ”€â”€ .env                          # ç’°å¢ƒè®Šæ•¸ï¼ˆä¸é€²ç‰ˆæ§ï¼‰
â”œâ”€â”€ .env.example                  # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”œâ”€â”€ vite.config.ts                # Vite è¨­å®š + gas-proxy middleware
â”œâ”€â”€ gas/
â”‚   â””â”€â”€ Code.gs                   # GAS å¾Œç«¯ç¨‹å¼ç¢¼ç¯„æœ¬
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx                  # å…¥å£é»
    â”œâ”€â”€ App.tsx                   # Router è¨­å®šï¼ˆBrowserRouterï¼‰
    â”œâ”€â”€ index.css                 # è¨­è¨ˆç³»çµ±ï¼ˆCSS variablesï¼‰
    â”œâ”€â”€ types/
    â”‚   â””â”€â”€ index.ts              # TypeScript ä»‹é¢å®šç¾©
    â”œâ”€â”€ services/
    â”‚   â””â”€â”€ api.ts                # GAS API å°è£ï¼ˆå« mock è³‡æ–™ï¼‰
    â”œâ”€â”€ hooks/
    â”‚   â””â”€â”€ useFormOptions.ts     # ä¸‹æ‹‰è³‡æ–™ fetching hook
    â””â”€â”€ pages/
        â”œâ”€â”€ LoginPage/
        â”‚   â””â”€â”€ index.tsx
        â”œâ”€â”€ WorkItemFormPage/
        â”‚   â””â”€â”€ index.tsx
        â”œâ”€â”€ RecordsPage/
        â”‚   â””â”€â”€ index.tsx         # æŸ¥è©¢è¨˜éŒ„ + ç·¨è¼¯ Modal
        â””â”€â”€ AdminPage/
            â””â”€â”€ index.tsx
```

---

## 8. è·¯ç”±è¨­è¨ˆ

| è·¯å¾‘       | é é¢             | èªªæ˜                   |
| ---------- | ---------------- | ---------------------- |
| `/`        | LoginPage        | é¸æ“‡ä½¿ç”¨è€…             |
| `/form`    | WorkItemFormPage | å¡«å¯«å·¥ä½œè¨˜éŒ„           |
| `/records` | RecordsPage      | æŸ¥è©¢è¨˜éŒ„ / ç·¨è¼¯        |
| `/admin`   | AdminPage        | ç®¡ç†é é¢ï¼ˆéœ€ isAdminï¼‰ |
| `*`        | é‡å°å‘ `/`       | 404 fallback           |

### RecordsPage è¦æ ¼

**è·¯ç”±**ï¼š`/records`

**åŠŸèƒ½**ï¼š
- ä¸€èˆ¬ä½¿ç”¨è€…ï¼šåªçœ‹è‡ªå·±çš„å·¥ä½œè¨˜éŒ„
- ç®¡ç†è€…ï¼šå¯çœ‹æ‰€æœ‰äººçš„è¨˜éŒ„ä¸¦ç¯©é¸äººå“¡
- é»æ“Šã€Œâœ ç·¨è¼¯ã€â†’ è·³å‡º Modalï¼Œå«å®Œæ•´è¡¨å–®ï¼ˆæå•æ–¹å¼ icon æŒ‰éˆ•çµ„ï¼‰

**ç¯©é¸æ¢ä»¶**ï¼ˆå…¨éƒ¨å®¢æˆ¶ç«¯ç¯©é¸ï¼‰ï¼š

| ç¯©é¸é …             | èªªæ˜                                                     |
| ------------------ | -------------------------------------------------------- |
| äººå“¡ï¼ˆç®¡ç†è€…é™å®šï¼‰ | è™•ç†äººå“¡å§“å                                             |
| ç³»çµ±åˆ¥             | ç²¾ç¢ºæ¯”å°                                                 |
| å­æ¨¡çµ„             | æ¨¡ç³ŠåŒ…å«æœå°‹                                             |
| æå•äººå“¡           | ç²¾ç¢ºæ¯”å°                                                 |
| æå•æ–¹å¼           | ç²¾ç¢ºæ¯”å°                                                 |
| é›£åº¦               | é«˜/ä¸­/ä½                                                 |
| å„ªå…ˆæ¬Š             | é«˜/ä¸­/ä½                                                 |
| å®Œæˆç‹€æ…‹           | å·²å®Œæˆ/æœªå®Œæˆ                                            |
| æ—¥æœŸç¯„åœ           | react-datepicker æ—¥æ›†é¸å–ï¼›å¿«é€Ÿé è¨­ï¼šä»Šå¤©/æœ¬é€±/æœ¬æœˆ/å…¨éƒ¨ |

**æ’åº**ï¼šé»æ“Šä»»æ„æ¬„ä½æ¨™é¡Œåˆ‡æ›å‡/é™åº

**ä¾è³´**ï¼š
- `react-datepicker` + `date-fns`ï¼ˆæ—¥æ›†é¸å–å…ƒä»¶ï¼‰

---

## 9. è¨­è¨ˆç³»çµ±

**ä¸»é¡Œ**ï¼šæ·±è‰²ï¼ˆDark Modeï¼‰

| Token            | å€¼        | èªªæ˜                |
| ---------------- | --------- | ------------------- |
| `--bg`           | `#0d0d1a` | é é¢èƒŒæ™¯            |
| `--bg-elevated`  | `#13132a` | å¡ç‰‡èƒŒæ™¯            |
| `--accent`       | `#7c6ff7` | ä¸»è‰²ï¼ˆç´«è‰²ï¼‰        |
| `--accent-hover` | `#a09aff` | hover ç‹€æ…‹          |
| `--high`         | `#f97066` | é«˜é›£åº¦/å„ªå…ˆï¼ˆç´…ï¼‰   |
| `--mid`          | `#f9a825` | ä¸­é›£åº¦/å„ªå…ˆï¼ˆæ©˜é»ƒï¼‰ |
| `--low`          | `#4eed9e` | ä½é›£åº¦/å„ªå…ˆï¼ˆç¶ ï¼‰   |
| `--radius`       | `12px`    | æ¨™æº–åœ“è§’            |

**å­—å‹**ï¼šInterï¼ˆGoogle Fontsï¼‰ï¼Œfallback system-ui

---

## 10. å·²çŸ¥é™åˆ¶

| é …ç›®           | èªªæ˜                                                           |
| -------------- | -------------------------------------------------------------- |
| ç„¡ç™»å…¥é©—è­‰     | ä½¿ç”¨è€…åƒ…ä»¥ä¸‹æ‹‰é¸å–®é¸å–ï¼Œç„¡å¯†ç¢¼é©—è­‰æ©Ÿåˆ¶                         |
| POST ç„¡æ³•ç¢ºèª  | GAS POST ä½¿ç”¨ `no-cors`ï¼Œå‰ç«¯ç„¡æ³•è®€å–å›æ‡‰ï¼Œä¸€å¾‹å‡è¨­æˆåŠŸ        |
| GAS éƒ¨ç½²éœ€æ‰‹å‹• | GAS ç¨‹å¼ç¢¼æ›´æ–°å¾Œéœ€æ‰‹å‹•åœ¨ Apps Script ä»‹é¢æ–°å¢éƒ¨ç½²ç‰ˆæœ¬          |
| ç”Ÿç”¢ç’°å¢ƒ CORS  | éƒ¨ç½²è‡³çœŸå¯¦ domain å¾Œï¼ŒGAS GET è«‹æ±‚æ˜¯å¦éœ€è¦é¡å¤– CORS è™•ç†å¾…ç¢ºèª |

---

## 11. è®Šæ›´è¨˜éŒ„

| æ—¥æœŸ       | ç‰ˆæœ¬  | å…§å®¹                                                                                                                                                                                                          |
| ---------- | ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2026-02-21 | 1.0.0 | åˆç‰ˆå»ºç«‹ï¼›LoginPage + WorkItemFormPageï¼›GAS å¾Œç«¯ï¼›Vite gas-proxy                                                                                                                                              |
| 2026-02-21 | 1.0.1 | GAS `isEnabled()` å‡½å¼æ–°å¢æ”¯æ´ `Y`/`y`/`true`/`1` ç­‰å¤šç¨®å•Ÿç”¨å€¼                                                                                                                                                |
| 2026-02-21 | 1.1.0 | ç®¡ç†è€…åŠŸèƒ½ï¼šä½¿ç”¨è€… Sheet åŠ  `æ˜¯å¦ç‚ºç®¡ç†è€…` æ¬„ï¼›AdminPage CRUDï¼›GAS admin ç«¯é»ï¼›gas-proxy POST æ”¯æ´                                                                                                            |
| 2026-02-21 | 1.2.0 | DataSheet åŠ å…¥å»ºç«‹æ™‚é–“æ¬„ï¼ˆGAS è‡ªå‹•å¡«å…¥ï¼‰ï¼›RecordsPage æ–°å¢ï¼ˆæŸ¥è©¢/ç¯©é¸/æ’åº/ç·¨è¼¯/ç®¡ç†è€…å¯æŸ¥å…¨éƒ¨ï¼‰ï¼›æå•æ–¹å¼æ”¹ icon æŒ‰éˆ•çµ„ï¼›é€å‡ºæˆåŠŸæ”¹å‹•ç•« overlayï¼›æ—¥æ›†å…ƒä»¶ï¼ˆreact-datepicker æ·±è‰²ä¸»é¡Œï¼‰ï¼›å­æ¨¡çµ„çˆ¶ç³»çµ±æ¬„æ”¹ä¸‹æ‹‰ |
